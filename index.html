<!doctype html>
<html lang="zh-HK">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>ALPHA X</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700;900&family=Orbitron:wght@600;800&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:#02020a;
  color:#fff;
  overflow:hidden;
  font-family:"Noto Sans TC",system-ui,-apple-system,Segoe UI,Roboto;
}

/* ======================
   背景图（只提亮，不换图）
====================== */
.bg{
  position:fixed; inset:0;
  background:url("./bg-desktop-1920x1080.jpg") center/cover no-repeat;
  transform:scale(1.06);
  filter:
    brightness(1.22)
    contrast(1.06)
    saturate(1.15);
  animation:bgFloat 16s ease-in-out infinite alternate;
  z-index:-5;
}
@media (max-width:768px){
  .bg{
    background-image:url("./bg-mobile.png");
    transform:scale(1.04);
    animation-duration:20s;
  }
}
@keyframes bgFloat{
  from{transform:scale(1.05) translate(0,0)}
  to{transform:scale(1.11) translate(-1.2%,-1.2%)}
}

/* 暗角（轻，避免压暗画面） */
.vignette{
  position:fixed; inset:0;
  background:radial-gradient(
    ellipse at 50% 35%,
    rgba(0,0,0,.0),
    rgba(0,0,0,.42) 70%,
    rgba(0,0,0,.70)
  );
  z-index:-4;
}

/* 星空 Canvas */
#fx{
  position:fixed; inset:0;
  pointer-events:none;
  z-index:-3;
}

/* ======================
   布局
====================== */
.wrap{
  min-height:100svh;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  align-items:center;
  padding:
    max(28px,env(safe-area-inset-top))
    18px
    max(28px,env(safe-area-inset-bottom));
}

.top{
  text-align:center;
  margin-top:3vh;
}
h1{
  margin:0;
  font-size:clamp(28px,5vw,56px);
  font-weight:900;
  letter-spacing:.08em;
  background:linear-gradient(
    90deg,
    #ffffff,
    #cfefff,
    #e0d2ff
  );
  -webkit-background-clip:text;
  color:transparent;
}
.sub{
  margin-top:10px;
  font-size:14px;
  letter-spacing:.28em;
  opacity:.9;
}
.sub b{
  font-family:"Orbitron","Noto Sans TC";
  font-weight:800;
}

.bottom{
  width:min(520px,92vw);
}
.dock{
  padding:18px;
  border-radius:26px;
  background:linear-gradient(
    180deg,
    rgba(255,255,255,.10),
    rgba(255,255,255,.03)
  );
  border:1px solid rgba(255,255,255,.12);
  backdrop-filter:blur(12px);
  box-shadow:0 24px 70px rgba(0,0,0,.55);
}
.enter{
  display:block;
  text-align:center;
  padding:18px;
  border-radius:999px;
  text-decoration:none;
  background:linear-gradient(90deg,#5cc8ff,#9f7bff);
  box-shadow:0 18px 50px rgba(120,200,255,.35);
}
.enter span{
  font-family:"Orbitron";
  font-size:18px;
  letter-spacing:.22em;
  color:#fff;
}
.hint{
  margin-top:10px;
  font-size:12px;
  opacity:.7;
  letter-spacing:.22em;
  text-align:center;
}
</style>
</head>

<body>
<div class="bg"></div>
<div class="vignette"></div>
<canvas id="fx"></canvas>

<div class="wrap">
  <div class="top">
    <h1>你嘅旅程，由呢一刻開始</h1>
    <div class="sub">一步踏入 <b>ALPHA X</b> 宇宙。</div>
  </div>

  <div class="bottom">
    <div class="dock">
      <a class="enter" href="https://alphaxhk.win">
        <span>進入&nbsp;ALPHA&nbsp;X</span>
      </a>
      <div class="hint">點擊進入</div>
    </div>
  </div>
</div>

<script>
    /* =========================
       A) 持续动态光粒（Canvas）
       ========================= */
    const c = document.getElementById('fx');
    const ctx = c.getContext('2d', { alpha: true });

    let W = 0, H = 0, DPR = 1;
    function resize(){
      DPR = Math.min(2, window.devicePixelRatio || 1);
      W = Math.floor(window.innerWidth);
      H = Math.floor(window.innerHeight);
      c.width  = Math.floor(W * DPR);
      c.height = Math.floor(H * DPR);
      c.style.width = W + 'px';
      c.style.height = H + 'px';
      ctx.setTransform(DPR,0,0,DPR,0,0);
    }
    window.addEventListener('resize', resize);
    resize();

    const isMobile = matchMedia('(max-width: 768px)').matches;
    const N = isMobile ? 80 : 140;

    const particles = Array.from({length:N}, ()=>makeP(true));
    function makeP(initial=false){
      const p = {
        x: Math.random()*W,
        y: Math.random()*H,
        r: 0.6 + Math.random()*1.8,
        vx: (-0.12 + Math.random()*0.24),
        vy: (-0.10 + Math.random()*0.20),
        a: 0.25 + Math.random()*0.55,
        tw: 0.004 + Math.random()*0.012,
        hue: Math.random() < 0.55 ? 'cyan' : 'violet'
      };
      if(!initial){
        // 从边缘刷入更自然
        const side = Math.floor(Math.random()*4);
        if(side===0){ p.x=-10; p.y=Math.random()*H; }
        if(side===1){ p.x=W+10; p.y=Math.random()*H; }
        if(side===2){ p.x=Math.random()*W; p.y=-10; }
        if(side===3){ p.x=Math.random()*W; p.y=H+10; }
      }
      return p;
    }

    function draw(){
      ctx.clearRect(0,0,W,H);

      // 柔光叠加：更“霓虹”
      ctx.globalCompositeOperation = 'lighter';

      for(let i=0;i<particles.length;i++){
        const p = particles[i];
        p.x += p.vx;
        p.y += p.vy;
        p.a += (Math.random()-0.5)*p.tw;

        // 轻微闪烁
        const alpha = Math.max(0.08, Math.min(0.85, p.a));
        const glow = p.hue==='cyan' ? 'rgba(120,220,255,' : 'rgba(180,110,255,';
        const core = 'rgba(255,255,255,';

        // 绘制：外光 + 核心
        ctx.beginPath();
        ctx.fillStyle = glow + (alpha*0.35) + ')';
        ctx.arc(p.x, p.y, p.r*4.2, 0, Math.PI*2);
        ctx.fill();

        ctx.beginPath();
        ctx.fillStyle = glow + (alpha*0.55) + ')';
        ctx.arc(p.x, p.y, p.r*2.3, 0, Math.PI*2);
        ctx.fill();

        ctx.beginPath();
        ctx.fillStyle = core + (alpha*0.75) + ')';
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();

        // 出界重生
        if(p.x < -60 || p.x > W+60 || p.y < -60 || p.y > H+60){
          particles[i] = makeP(false);
        }
      }

      ctx.globalCompositeOperation = 'source-over';
      requestAnimationFrame(draw);
    }
    draw();

    /* =========================
       B) 点击爆裂 + 解体 + 跳转
       ========================= */
    const btn = document.getElementById('enterBtn');
    const burst = document.getElementById('burst');

    function spawnBurst(x, y, count = 100){
      burst.classList.add('active');
      burst.innerHTML = "";

      for(let i=0;i<count;i++){
        const p = document.createElement('div');
        p.className = 'p';
        const angle = Math.random() * Math.PI * 2;
        const radius = 140 + Math.random() * 420;
        const x1 = x + Math.cos(angle) * radius;
        const y1 = y + Math.sin(angle) * radius;

        p.style.left = x + "px";
        p.style.top  = y + "px";
        p.style.setProperty('--x0','0px');
        p.style.setProperty('--y0','0px');
        p.style.setProperty('--x1',(x1-x)+'px');
        p.style.setProperty('--y1',(y1-y)+'px');

        const s = 3 + Math.random() * 7;
        p.style.width = s + "px";
        p.style.height = s + "px";
        burst.appendChild(p);
      }

      setTimeout(()=>{
        burst.classList.remove('active');
        burst.innerHTML = "";
      }, 1000);
    }

    btn.addEventListener('click', (e)=>{
      e.preventDefault();
      const rect = btn.getBoundingClientRect();
      const x = rect.left + rect.width/2;
      const y = rect.top + rect.height/2;

      spawnBurst(x, y, window.innerWidth < 768 ? 80 : 130);
      document.body.classList.add('disintegrate');

      const href = btn.getAttribute('href');
      setTimeout(()=>{ window.location.href = href; }, 1100);
    }, {passive:false});
  </script>
</body>
</html>
